@import 'lib/normalize';

$baseColor: #3e5869;
$textColor: #3e3e3e;
$titleColor: #004855;
$nsfwColor: #f51900;
$linkColor: #007e88;
$linkHoverColor: $nsfwColor;

@mixin text-stroke($color: #000) {
    text-shadow: -1px -1px 0 $color,
    1px -1px 0 $color,
    -1px  1px 0 $color,
    1px  1px 0 $color,
    1px 0 0 $color,
    0  1px 0 $color,
    -1px  0 0 $color,
    0 -1px 0 $color;
}

@mixin nsfwtag() {
    .nsfwboard {
        position: relative;
        padding-right: 50px;
        .nsfwtag {
            position: absolute;
            right: 0;
            font-size: 0.7rem;
            background-color: $nsfwColor;
            color: #fff;
            padding: 3px 5px;
            line-height: 1em;
            top: 50%;
            transform: translateY(-50%);
            border-radius: 20px;
        }
    }
}

body {
    background: #f3f3f5;
    font: 16px "Lato", sans-serif;
    color: $textColor;
}

img { max-width: 100% }

a {
    text-decoration: none;
    color: $linkColor;
}
a:hover { color: $linkHoverColor }
a img { vertical-align: top }


#sidebar {
    $bgcolor: $baseColor;
    float: left;
    width: 200px;
    min-height: 400px;
    padding: 10px 20px;
    overflow: hidden;
    font-size: 0.9em;
    background-color: $bgcolor;

    button.link, input.link {
        border: 0;
        padding: 0;
        background-color: transparent;
        cursor: pointer;
        color: #eee;
        &:hover {
            color: lighten($bgcolor, 40%);
        }
    }
    a {
        color: #eee;
        font-weight: normal;
        &:hover {
            color: lighten($bgcolor, 40%);
        }
    }

    #logo {
        $height: 80px;
        font-size: 1.5em;
        font-weight: 300;
        height: $height;
        line-height: $height;
        display: block;
        margin-bottom: 0.5em;
        img {
            height: $height;
            vertical-align: top;
            margin-right: 10px;
        }
    }
    nav {
        line-height: 1.7em;

        &:not(:first-of-type) {
            padding-top: 20px;
            margin-top: 20px;
            border-top: 1px solid lighten($bgcolor, 15%);
        }
        a { display: block }
        h3 {
            color: lighten($bgcolor, 40%);
            margin: 0 0 10px 0;
            font-size: 1.25em;
            font-weight: 300;
        }
        @include nsfwtag();
    }
    #search {
        background-color: darken($bgcolor, 10%);
        overflow: hidden;
        margin-top: 10px;
        input {
            border: 0;
            float: left;
            vertical-align: middle;
            color: #fff;
        }
        #searchfield {
            width: calc(100% - 55px);
            height: 25px;
            padding: 5px 10px;
            background-color: transparent;
        }
        #searchbutton {
            width: 35px;
            height: 35px;
            cursor: pointer;
            background-color: darken($bgcolor, 5%);
        }
    }
    #user form {
        overflow: hidden;

        input[type="text"], input[type="password"] {
            background-color: darken($bgcolor, 10%);
            border: 0;
            color: #fff;
            margin-bottom: 5px;
            display: block;
            padding: 5px 10px;
            width: calc(100% - 20px);
        }
        button.transparent {
            float: right;
        }
        #signupform {
            display: none;

            .g-recaptcha {
                background-color: #222;
                margin-bottom: 5px;
                overflow: hidden;
                > div {
                    height: 136px;
                    margin: -2px auto 5px -2px;
                    overflow: hidden;
                    width: 155px;
                }
            }
        }
    }
}

.button {
    border: 0;
    padding: 5px 20px;
    cursor: pointer;
    color: #fff;

    &.green {
        background-color: #689800;
    }
    &.transparent {
        padding: 5px 0;
        background-color: transparent;
    }
}

h1, h2, h3 {
    margin: 0;
}

#content {
    overflow: hidden;
    .page-header {
        background: lighten($baseColor, 20%) url('../img/hoporider.jpg') no-repeat 50% 50%;
        background-size: cover;
        padding: 60px 20px 20px 20px;
        color: #fff;
        @include text-stroke();

        &.front {
            text-align: center;
            box-shadow: 0 0 0 500px rgba(0,0,0,0.6) inset;
        }
    }
    .error-image {
        margin-top: 60px;
        max-width: 100%;
    }

    h1 {
        font-size: 2.5em;
        font-weight: 400;
    }
    h2 {
        font-size: 1.25em;
        font-weight: 400;
    }
    h3 {
        font-size: 1.75em;
        font-weight: 400;
        line-height: 1.5em;
        color: $titleColor;
        margin-bottom: 20px;
    }
}
.content-box {
    padding: 40px 60px;
    margin: 20px;
    box-shadow: 0 5px 5px -5px #ddd;
    background-color: #fff;

    p {
        line-height: 1.5em;
    }
}

body.error {
    background-color: #838383;
    #content {
        background: #528ac9 url('../img/norpat.png') no-repeat 50% 100%;
        background-size: 100%;

        .page-header {
            text-align: center;
            box-shadow: none;
            text-shadow: none;
            background: none;
            color: #fff;
            padding: 40px 0 30% 0;
        }
    }
}

#front-boards {
    columns: 250px;
    -moz-columns: 250px;
    -webkit-columns: 280px;
    column-gap: 20px;
    -moz-column-gap: 20px;
    -webkit-column-gap: 20px;
    line-height: 2.5em;
    @include nsfwtag();
    a {
        color: $textColor;
        display: block;
        &:hover {
            color: $linkHoverColor;
        }
    }
}

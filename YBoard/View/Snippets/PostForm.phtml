<form class="content-box" id="post-form" action="/scripts/posts/submit" method="post" onsubmit="submitPost(event)">
    <fieldset>
        <input type="hidden" id="file-id" name="file_id">
<?php if (!empty($thread->id)) : ?>
    <h3><?= _('Submit a reply') ?></h3>
    <input type="hidden" id="post-destination" name="thread" value="<?= $thread->id ?>">
<?php else : ?>
    <h3><?= _('Create a thread') ?></h3>
    <?php if ($board->id !== null) : ?>
    <input type="hidden" id="post-destination" name="board" value="<?= $board->url ?>">
    <?php else : ?>
    <input type="hidden" id="post-destination">
    <div class="input-row">
        <label id="label-board">
            <span class="label"><?= _('Board') ?></span>
            <select name="board" required>
                <option value="" selected disabled><?= _('Select') ?></option>
                <?php foreach ($boardList as $singleBoard) : ?>
                <option value="<?= $singleBoard->url ?>"><?= htmlspecialchars($singleBoard->name) ?></option>
                <?php endforeach ?>
            </select>
        </label>
    </div>
    <?php endif ?>
    <div class="input-row">
        <label id="label-subject">
            <span class="label"><?= _('Subject') ?></span>
            <input type="text" name="subject" placeholder="<?= _('Subject') ?>" maxlength="<?= $subjectMaxLength ?>">
        </label>
    </div>
<?php endif ?>
    <div class="input-row">
        <label id="label-file">
            <span class="label"><?= _('File') ?> <span>&lt;<?= \YBoard\Library\Text::formatBytes($uploadMaxSize) ?></span></span>
            <input type="file" name="files" id="post-files" accept="<?= $acceptedFileTypes ?>" data-maxsize="<?= $uploadMaxSize ?>">
            <span class="button gray"><?= _('Choose file') ?></span>
        </label>
        <input type="text" id="file-name" name="file_name" placeholder="<?= _('No file selected') ?>">
        <button type="button" onclick="removePostFile()" class="button gray icon-cross2"></button>
    </div>
    <div class="file-progress progressbar"><div></div></div>

    <div id="message-input">
        <div id="format-toolbar">
            <a class="icon-bold" title="<?= _('Bold') ?>" onclick="addBbCode('b')"></a>
            <a class="icon-italic" title="<?= _('Italic') ?>" onclick="addBbCode('em')"></a>
            <a class="icon-strikethrough" title="<?= _('Strikethrough') ?>" onclick="addBbCode('s')"></a>
            <a class="icon-underline" title="<?= _('Underline') ?>" onclick="addBbCode('u')"></a>
            <a class="icon-spoiler" title="<?= _('Spoiler') ?>" onclick="addBbCode('spoiler')"></a>
            <a class="icon-font-small" title="<?= _('Small text') ?>" onclick="addBbCode('small')"></a>
            <a class="icon-font-big" title="<?= _('Big text') ?>" onclick="addBbCode('big')"></a>
            <a class="icon-bubble-quote" title="<?= _('Quote') ?>" onclick="addBbCode('quote')"></a>
            <a class="icon-code" title="<?= _('Code') ?>" onclick="addBbCode('code')"></a>
            <a class="icon-superscript" title="<?= _('Superscript') ?>" onclick="addBbCode('sup')"></a>
            <a class="icon-subscript" title="<?= _('Subscript') ?>" onclick="addBbCode('sub')"></a>
            <a class="icon-palette" title="<?= _('Colors') ?>" onclick="toggleBbColorBar()"></a>
            <div id="color-buttons" style="display:none">
                <a class="icon-palette black" title="<?= _('Black') ?>" onclick="addBbCode('black')"></a>
                <a class="icon-palette gray" title="<?= _('Gray') ?>" onclick="addBbCode('gray')"></a>
                <a class="icon-palette white" title="<?= _('White') ?>" onclick="addBbCode('white')"></a>
                <a class="icon-palette brown" title="<?= _('Brown') ?>" onclick="addBbCode('brown')"></a>
                <a class="icon-palette red" title="<?= _('Red') ?>" onclick="addBbCode('red')"></a>
                <a class="icon-palette orange" title="<?= _('Orange') ?>" onclick="addBbCode('orange')"></a>
                <a class="icon-palette yellow" title="<?= _('Yellow') ?>" onclick="addBbCode('yellow')"></a>
                <a class="icon-palette green" title="<?= _('Green') ?>" onclick="addBbCode('green')"></a>
                <a class="icon-palette blue" title="<?= _('Blue') ?>" onclick="addBbCode('blue')"></a>
                <a class="icon-palette purple" title="<?= _('Purple') ?>" onclick="addBbCode('purple')"></a>
                <a class="icon-palette pink" title="<?= _('Pink') ?>" onclick="addBbCode('pink')"></a>
            </div>
        </div>
        <textarea id="post-message" class="no-style" name="message" placeholder="<?= _('Message') ?>" maxlength="<?= $messageMaxLength ?>"></textarea>
    </div>

    <?php if ($user->requireCaptcha) : ?>
    <div id="post-form-captcha"></div>
    <?php endif ?>
    <button type="button" onclick="$('#post-options').toggle();return false" class="button gray"><?= _('Options') ?></button>
    <button type="button" id="reset-button" onclick="resetPostForm();return false" class="button gray"><?= _('Cancel') ?></button>
    <input type="submit" class="button primary" value="<?= _('Submit') ?>">
    <div id="post-options">
        <h4><?= _('Functions') ?></h4>
        <label>
            <input type="checkbox" name="sage">
            <?= _('Don\'t bump the thread') ?>
        </label>
        <label>
            <input type="checkbox" name="hidename">
            <?= _('Hide your name') ?>
        </label>
        <h4><?= _('Gold account functions') ?></h4>
        <label>
            <input type="checkbox" name="nocompress">
            <?= _('Keep original file dimensions') ?>
        </label>
        <label>
            <input type="checkbox" name="goldonly">
            <?= _('Hide message from non-golds') ?>
        </label>
    </div>
    </fieldset>
</form>
